

<div class="language-switcher">
  <select onchange="switchLanguage(this.value)" class="language-dropdown" id="lang-switcher">
    <option value="en">English (en)</option>
    <option value="es">Español (es)</option>
    <option value="fr">Français (fr)</option>
  </select>
</div>
<script>
function switchLanguage(lang) {
  const currentPath = window.location.pathname;
  let newPath;
  
  // Remove existing language prefix
  let basePath = currentPath;
  if (currentPath.startsWith('/es/')) {
    basePath = currentPath.substring(3);
  } else if (currentPath.startsWith('/fr/')) {
    basePath = currentPath.substring(3);
  }
  
  // Ensure basePath starts with /
  if (!basePath.startsWith('/')) {
    basePath = '/' + basePath;
  }
  
  // Add new language prefix
  if (lang === 'en') {
    newPath = basePath;
  } else {
    newPath = '/' + lang + basePath;
  }
  
  window.location.href = newPath;
}

// Set current selection
(function() {
  const select = document.getElementById('lang-switcher');
  const currentPath = window.location.pathname;
  
  if (currentPath.startsWith('/es/')) {
    select.value = 'es';
  } else if (currentPath.startsWith('/fr/')) {
    select.value = 'fr';
  } else {
    select.value = 'en';
  }
})();
</script>
